<!DOCTYPE html>
<html>
<head>
	<title></title>
   <style type="text/css">
      canvas{
         width: 600px;
         height: 400px;
         border:1px solid #ccc;
         /*background: red;*/
      }
   </style>
</head>
<body>
	<div>
		<canvas id="c">
			
		</canvas>
	</div>
	<script id="vertex-shader" type="notjs">
      attribute vec2 a_position;
      uniform vec2 u_resolution;
		void main(){
      vec2 zeroToOne=a_position/u_resolution;

      vec2 zeroToTwo=zeroToOne * 2.0;
      vec2 clipSpace=zeroToTwo - 1.0;

		gl_Position=vec4(clipSpace,0,1);
	}
	</script>
	<script id="fragment-shader" type="notjs">
		precision mediump float;
		void main(){
		gl_FragColor=vec4(1,0,0.5,1);
	}
	</script>
</body>
<script>
   var canvas=document.getElementById("c");
   canvas.width=1200;
   canvas.height=800;
   var gl=canvas.getContext("webgl");
   console.log(gl)
   if(gl){
   		function createShader(gl,type,source){
   			var shader=gl.createShader(type);
   			gl.shaderSource(shader,source);
   			gl.compileShader(shader);
   			var success=gl.getShaderParameter(shader,gl.COMPILE_STATUS);
   			if(success){
   				return shader;
   			}
   			console.log(gl.getShaderInfoLog(shader));
   			gl.deleteShader(shader);
   		}
   		var vertexShaderSource=document.getElementById("vertex-shader").text;
   		var fragmentShaderSource=document.getElementById("fragment-shader").text;
   		var vertexShader=createShader(gl,gl.VERTEX_SHADER,vertexShaderSource);
   		var fragmentShader=createShader(gl,gl.FRAGMENT_SHADER,fragmentShaderSource);

   		function createProgram(gl,vertexShader,fragmentShader){
   			var program=gl.createProgram();
   			gl.attachShader(program,vertexShader);
   			gl.attachShader(program,fragmentShader);
   			gl.linkProgram(program);
   			var success=gl.getProgramParameter(program,gl.LINK_STATUS);
   			if(success){
   				return program;
   			}
   			console.log(gl.getProgramInfoLog(program));
   			gl.deleteProgram(program);
   		}

   		var program=createProgram(gl,vertexShader,fragmentShader);
   		var positionAttributeLocation=gl.getAttribLocation(program,"a_position");
         var positionBuffer=gl.createBuffer();
         gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);

         var positions=[
            0,0,
            0,0.5,
            0.7,0,
         ];
         gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(positions),gl.STATIC_DRAW);

         gl.viewport(0,0,gl.canvas.width,gl.canvas.height);
         gl.clearColor(255,255,255,1);
         gl.clear(gl.COLOR_BUFFER_BIT);
         gl.useProgram(program);
         gl.enableVertexAttribArray(positionAttributeLocation);
         gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);

         var size=2;
         var type=gl.FLOAT;
         var normalize=false;
         var stride=0;
         var offset=0;
         gl.vertexAttribPointer(positionAttributeLocation,size,type,normalize,stride,offset);

         var primitiveType=gl.TRIANGLES;
         var offset=0;
         var count=3;
         gl.drawArrays(primitiveType  ,offset,count);
         
   }
</script>

</html>